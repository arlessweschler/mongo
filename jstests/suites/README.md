## Resmoke suite test targets

Bazel test targets for resmoke suites.

For documentation of the `resmoke_suite_test` rule, see [bazel/resmoke/README.md](bazel/resmoke/README.md).

## Configuring

In addition to attributes for `resmoke_suite_test`, the following are options for configuring test targets.

| Attribute                | Purpose                                                                                                                                                                                                                                                                                                                                                          | Example                                                                                                                                                                                                                                                                                                                                                                                           |
| ------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `rescoures:cpu:N` tag    | Allocate multiple CPUs for the test. By default, all tests get 1 CPU.                                                                                                                                                                                                                                                                                            | `tags = ["resources:cpu:2"],`                                                                                                                                                                                                                                                                                                                                                                     |
| `ci-` tags               | Configure priority of the task in CI.<br/>Setting one of these enables the test to run in CI. See [task_selection_tags.md](docs/evergreen-testing/yaml_configuration/task_selection_tags.md) for the semantics of each. <br/><br/>One of <br/> `ci-default`<br/>`ci-release-critical`<br/>`ci-development-critical`<br/>`ci-development-critical-single-variant` | `tags = ["ci-default"]`                                                                                                                                                                                                                                                                                                                                                                           |
| `target_compatible_with` | Configure platforms/build options that the test is compatible with. Use this to exclude the test suite from platforms in CI.                                                                                                                                                                                                                                     | Exclude the test on PPC/S390x, MacOS, and TSAN builds:<pre><code>target_compatible_with = select({<br/> "@platforms//cpu:ppc": ["@platforms//:incompatible"],<br/> "@platforms//cpu:s390x": ["@platforms//:incompatible"],<br/> "@platforms//os:macos": ["@platforms//:incompatible"],<br/> "//bazel/config:tsan_enabled": ["@platforms//:incompatible"],<br/> "//conditions:default": [],<br/>}) |
